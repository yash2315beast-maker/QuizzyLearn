<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Physics Game 1: Force & Motion Simulator</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      user-select: none;
      overflow-x: hidden;
    }

    h1 {
      margin-bottom: 10px;
      text-align: center;
      text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
    }

    #backBtn {
      position: fixed;
      top: 15px;
      left: 15px;
      padding: 10px 18px;
      font-size: 1rem;
      background-color: #feca57;
      color: #222;
      font-weight: 700;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      z-index: 1000;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    #backBtn:hover {
      background-color: #e6b642;
      transform: translateY(-2px);
    }

    #container {
      background: #2c3e50;
      padding: 20px;
      border-radius: 15px;
      max-width: 720px;
      width: 100%;
      box-shadow: 0 0 30px #0d47a1;
      position: relative;
      z-index: 1;
    }

    #box-container {
      position: relative;
      height: 150px;
      width: 700px;
      margin: 20px auto;
      background: #34495e;
      border-radius: 10px;
      border: 2px solid #1abc9c;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.4);
    }

    #box {
      position: absolute;
      bottom: 10px;
      left: 50px;
      width: 100px;
      height: 100px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      transition: left 0.1s;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: white;
      font-size: 18px;
      text-shadow: 0 0 5px #000;
      z-index: 2;
    }
/* Update block appearances */
.wood { background: linear-gradient(45deg, #a0522d, #d2b48c); }
.stone { background: linear-gradient(45deg, #7f8c8d, #95a5a6); }
/* Steel block is now black metallic */
.steel { background: linear-gradient(45deg, #000000, #434343); color: #fff; }


    /* Direction arrows */
    .direction-arrow {
      position: absolute;
      top: 40px;
      width: 0;
      height: 0;
      border-top: 15px solid transparent;
      border-bottom: 15px solid transparent;
      z-index: 1;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .arrow-right {
      border-left: 25px solid #2ecc71;
      left: 180px;
    }
    .arrow-left {
      border-right: 25px solid #e74c3c;
      left: 470px;
    }

    #info {
      margin-top: 15px;
      font-size: 18px;
      line-height: 1.5;
      min-height: 60px;
    }

    button {
      background: #1abc9c;
      border: none;
      padding: 12px 20px;
      margin: 10px 5px 0 5px;
      border-radius: 6px;
      color: white;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
      user-select: none;
    }

    button:hover { background: #16a085; }

    label, select, input {
      margin-top: 10px;
      font-weight: 600;
      font-size: 16px;
    }

    select, input[type=range] {
      margin-left: 10px;
      padding: 5px;
      border-radius: 6px;
      border: none;
      font-weight: 500;
    }

    .controls-row {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <button id="backBtn" onclick="window.history.back()">Back</button>

  <div id="container">
    <h1>Force & Motion Simulator</h1>
    <div id="box-container">
      <div id="box" class="wood">1 kg</div>
      <div class="direction-arrow arrow-left"></div>
      <div class="direction-arrow arrow-right"></div>
    </div>

    <div class="controls-row">
      <label for="massSelect">Select Mass:</label>
      <select id="massSelect">
        <option value="1">1 kg (Wood)</option>
        <option value="3">3 kg (Stone)</option>
        <option value="5">5 kg (Steel)</option>
      </select>
      <label for="forceInput">Force (N):</label>
      <input type="range" id="forceInput" min="-20" max="20" value="0" step="1" />
      <span id="forceValue">0 N</span>
    </div>

    <div class="controls-row">
      <button id="applyForceBtn">Apply Force</button>
      <button id="stopBtn">Stop</button>
      <button id="resetBtn">Reset</button>
    </div>

    <div id="info">
      Velocity: 0 m/s<br/>
      Acceleration: 0 m/s²<br/>
      Position: 0 m
    </div>
  </div>

  <script>
    const box = document.getElementById('box');
    const massSelect = document.getElementById('massSelect');
    const forceInput = document.getElementById('forceInput');
    const forceValue = document.getElementById('forceValue');
    const applyForceBtn = document.getElementById('applyForceBtn');
    const stopBtn = document.getElementById('stopBtn');
    const resetBtn = document.getElementById('resetBtn');
    const info = document.getElementById('info');
    const arrowRight = document.querySelector('.arrow-right');
    const arrowLeft = document.querySelector('.arrow-left');
    const boxContainer = document.getElementById('box-container');

    let mass = 1;
    let force = 0;
    let acceleration = 0;
    let velocity = 0;
    let position = 0;
    let animationRunning = false;
    let lastTime = null;

    function setBlockAppearance() {
      box.className = '';
      if(mass === 1){ box.classList.add('wood'); box.textContent = '1 kg'; }
      else if(mass === 3){ box.classList.add('stone'); box.textContent = '3 kg'; }
      else if(mass === 5){ box.classList.add('steel'); box.textContent = '5 kg'; }
    }

    function updateArrows() {
      if(force > 0) { arrowRight.style.opacity = 1; arrowLeft.style.opacity = 0; }
      else if(force < 0){ arrowRight.style.opacity = 0; arrowLeft.style.opacity = 1; }
      else{ arrowRight.style.opacity = 0; arrowLeft.style.opacity = 0; }
    }

    massSelect.addEventListener('change', () => {
      mass = parseFloat(massSelect.value);
      setBlockAppearance();
      resetSimulation();
    });

    forceInput.addEventListener('input', () => {
      force = parseFloat(forceInput.value);
      forceValue.textContent = `${force} N`;
    });

    applyForceBtn.addEventListener('click', () => {
      if(force === 0) return alert('Please select a force other than zero.');
      acceleration = force / mass;
      velocity += acceleration * 0.05;
      if(!animationRunning){ animationRunning = true; lastTime=null; requestAnimationFrame(animate); }
      updateArrows();
    });

    stopBtn.addEventListener('click', () => { acceleration=0; velocity=0; updateArrows(); });
    resetBtn.addEventListener('click', resetSimulation);

    function animate(timestamp){
      if(!lastTime) lastTime = timestamp;
      const deltaTime = (timestamp - lastTime)/1000;
      lastTime = timestamp;

      velocity += acceleration * deltaTime;
      position += velocity * deltaTime;

      const maxPos = boxContainer.clientWidth - box.clientWidth - 10;
      if(position < 0){ position=0; velocity=0; }
      if(position > maxPos/5){ position=maxPos/5; velocity=0; }

      box.style.left = (50 + position*5) + 'px';

      info.innerHTML = `
        Velocity: ${velocity.toFixed(2)} m/s<br/>
        Acceleration: ${acceleration.toFixed(2)} m/s²<br/>
        Position: ${position.toFixed(2)} m
      `;

      if(animationRunning) requestAnimationFrame(animate);
    }

    function resetSimulation(){
      animationRunning=false; acceleration=0; velocity=0; position=0;
      forceInput.value=0; force=0; forceValue.textContent="0 N";
      box.style.left='50px';
      updateArrows();
      info.innerHTML=`Velocity: 0 m/s<br/>Acceleration: 0 m/s²<br/>Position: 0 m`;
    }

    setBlockAppearance();
    resetSimulation();
  </script>
</body>
</html>
